syntax = "proto3";

package movie.v1;

service MovieService {
  rpc GetAllMovies (GetAllMoviesRequest) returns (GetAllMoviesResponse);
  rpc GetPopularMovies (GetPopularMoviesRequest) returns (GetPopularMoviesResponse);
  rpc GetMovieById (GetMovieByIdRequest) returns (GetMovieByIdResponse);
  rpc GetMovieBySlug (GetMovieBySlugRequest) returns (GetMovieBySlugResponse);
}

message GetAllMoviesRequest { 
  string category = 1;
}

message GetAllMoviesResponse {
  bool ok = 1;
  repeated Movie movies = 2;
}

message GetPopularMoviesRequest {}

message GetPopularMoviesResponse {
  bool ok = 1;
  repeated Movie movies = 2;
}

message GetMovieByIdRequest {
  string id = 1;
}

message GetMovieByIdResponse {
  bool ok = 1;
  MovieDetails movie = 2;
}

message GetMovieBySlugRequest {
  string slug = 1;
}

message GetMovieBySlugResponse {
  bool ok = 1;
  MovieDetails movie = 2;
}

message Movie {
  string id = 1;
  string title = 2;
  string slug = 3;
  string poster = 4;
  string banner = 5;
  string rating_age = 6;
  string trailer = 7;
  string release_date = 8;
}

message MovieDetails {
  string id = 1;
  string title = 2;
  string slug = 3;
  string description = 4;
  string poster = 5;
  string banner = 6;
  string trailer = 7;
  string duration = 8;
  string release_date = 9;
  string rating_age = 10;
  string country = 11;
}