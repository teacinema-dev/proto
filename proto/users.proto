syntax = "proto3";

package users.v1;

service UsersService {
  rpc GetMe (GetMeRequest) returns (GetMeResponse);
  rpc PatchUser (PatchUserRequest) returns (PatchUserResponse);
  rpc ChangeAvatar (ChangeAvatarRequest) returns (ChangeAvatarResponse);
}

message GetMeRequest {
  string id = 1;
}

message GetMeResponse {
  User user = 2;
}

message PatchUserRequest {
  string user_id = 1;
  string name = 2;
}

message PatchUserResponse {
  User user = 1;
}

message ChangeAvatarRequest {
  string user_id = 1;
  string url = 2;
}

message ChangeAvatarResponse {
  bool ok = 1;
}

message User {
  string id = 1;
  string name = 2;
  string phone = 3;
  string avatar = 4;
}